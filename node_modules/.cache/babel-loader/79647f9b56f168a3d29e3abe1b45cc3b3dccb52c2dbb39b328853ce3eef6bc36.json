{"ast":null,"code":"import _slicedToArray from\"/home/insight/incubator/Month2/HW2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Greeting from'./Greeting';import{jsx as _jsx}from\"react/jsx-runtime\";export var pureAddUser=function pureAddUser(name,setError,setName,addUserCallback){if(name.trim()===''){setError('Ошибка! Введите имя!');}else{addUserCallback(name);setName('');}};export var pureOnBlur=function pureOnBlur(name,setError){// если имя пустое - показать ошибку\nif(name.trim()===''){setError('Ошибка! Введите имя!');}};export var pureOnEnter=function pureOnEnter(e,addUser){if(e.key==='Enter'){addUser();}};// более простой и понятный для новичков\n// function GreetingContainer(props: GreetingPropsType) {\n// более современный и удобный для про :)\nvar GreetingContainer=function GreetingContainer(_ref){var users=_ref.users,addUserCallback=_ref.addUserCallback;// деструктуризация пропсов\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var setNameCallback=function setNameCallback(e){setName(e.target.value);error&&setError('');};var addUser=function addUser(){pureAddUser(name,setError,setName,addUserCallback);};var onBlur=function onBlur(){pureOnBlur(name,setError);};var onEnter=function onEnter(e){pureOnEnter(e,addUser);};var totalUsers=users.length;var lastUserName=users.length?users[users.length-1].name:'';return/*#__PURE__*/_jsx(Greeting,{name:name,setNameCallback:setNameCallback,addUser:addUser,onBlur:onBlur,onEnter:onEnter,error:error,totalUsers:totalUsers,lastUserName:lastUserName});};export default GreetingContainer;","map":{"version":3,"names":["React","useState","Greeting","pureAddUser","name","setError","setName","addUserCallback","trim","pureOnBlur","pureOnEnter","e","addUser","key","GreetingContainer","users","error","setNameCallback","target","value","onBlur","onEnter","totalUsers","length","lastUserName"],"sources":["/home/insight/incubator/Month2/HW2/src/s2-homeworks/hw03/GreetingContainer.tsx"],"sourcesContent":["import React, { ChangeEvent, KeyboardEvent, useState } from 'react'\nimport Greeting from './Greeting'\nimport { UserType } from './HW3'\nimport user from \"../hw08/User\";\n\ntype GreetingContainerPropsType = {\n    users: UserType[] // need to fix any\n    addUserCallback: (name:string) => void // need to fix any\n}\n\nexport const pureAddUser = (name: string, setError: (error:string) => void, setName: React.Dispatch<React.SetStateAction<string>>, addUserCallback: (name:string) => void ) => {\n  if (name.trim() === '') {\n    setError('Ошибка! Введите имя!')\n  } else {\n    addUserCallback(name)\n    setName('')\n  }\n}\n\nexport const pureOnBlur = (name: string, setError: (error:string) => void) => { // если имя пустое - показать ошибку\n  if(name.trim() === '') {\n    setError('Ошибка! Введите имя!')\n  }\n}\n\nexport const pureOnEnter = (e: KeyboardEvent<HTMLInputElement>, addUser: ()=>void) => {\n  if(e.key === 'Enter') {\n    addUser()\n  }\n}\n\n// более простой и понятный для новичков\n// function GreetingContainer(props: GreetingPropsType) {\n\n// более современный и удобный для про :)\nconst GreetingContainer: React.FC<GreetingContainerPropsType> = ({\n    users,\n    addUserCallback,\n}) => {\n    // деструктуризация пропсов\n    const [name, setName] = useState<string>('')\n    const [error, setError] = useState<string>('')\n\n    const setNameCallback = (e: ChangeEvent<HTMLInputElement>) => {\n        setName(e.target.value)\n        error && setError('')\n    }\n    const addUser = () => {\n        pureAddUser(name, setError, setName, addUserCallback)\n    }\n\n    const onBlur = () => {\n        pureOnBlur(name, setError)\n    }\n\n    const onEnter = (e: KeyboardEvent<HTMLInputElement>) => {\n        pureOnEnter(e, addUser)\n    }\n\n    const totalUsers = users.length\n    const lastUserName = users.length ? users[users.length-1].name : ''\n\n    return (\n        <Greeting\n            name={name}\n            setNameCallback={setNameCallback}\n            addUser={addUser}\n            onBlur={onBlur}\n            onEnter={onEnter}\n            error={error}\n            totalUsers={totalUsers}\n            lastUserName={lastUserName}\n        />\n    )\n}\n\nexport default GreetingContainer\n"],"mappings":"wHAAA,MAAOA,MAAK,EAAgCC,QAAQ,KAAQ,OAAO,CACnE,MAAOC,SAAQ,KAAM,YAAY,4CASjC,MAAO,IAAMC,YAAW,CAAG,QAAdA,YAAW,CAAIC,IAAY,CAAEC,QAAgC,CAAEC,OAAqD,CAAEC,eAAsC,CAAM,CAC7K,GAAIH,IAAI,CAACI,IAAI,EAAE,GAAK,EAAE,CAAE,CACtBH,QAAQ,CAAC,sBAAsB,CAAC,CAClC,CAAC,IAAM,CACLE,eAAe,CAACH,IAAI,CAAC,CACrBE,OAAO,CAAC,EAAE,CAAC,CACb,CACF,CAAC,CAED,MAAO,IAAMG,WAAU,CAAG,QAAbA,WAAU,CAAIL,IAAY,CAAEC,QAAgC,CAAK,CAAE;AAC9E,GAAGD,IAAI,CAACI,IAAI,EAAE,GAAK,EAAE,CAAE,CACrBH,QAAQ,CAAC,sBAAsB,CAAC,CAClC,CACF,CAAC,CAED,MAAO,IAAMK,YAAW,CAAG,QAAdA,YAAW,CAAIC,CAAkC,CAAEC,OAAiB,CAAK,CACpF,GAAGD,CAAC,CAACE,GAAG,GAAK,OAAO,CAAE,CACpBD,OAAO,EAAE,CACX,CACF,CAAC,CAED;AACA;AAEA;AACA,GAAME,kBAAuD,CAAG,QAA1DA,kBAAuD,MAGvD,IAFFC,MAAK,MAALA,KAAK,CACLR,eAAe,MAAfA,eAAe,CAEf;AACA,cAAwBN,QAAQ,CAAS,EAAE,CAAC,wCAArCG,IAAI,eAAEE,OAAO,eACpB,eAA0BL,QAAQ,CAAS,EAAE,CAAC,yCAAvCe,KAAK,eAAEX,QAAQ,eAEtB,GAAMY,gBAAe,CAAG,QAAlBA,gBAAe,CAAIN,CAAgC,CAAK,CAC1DL,OAAO,CAACK,CAAC,CAACO,MAAM,CAACC,KAAK,CAAC,CACvBH,KAAK,EAAIX,QAAQ,CAAC,EAAE,CAAC,CACzB,CAAC,CACD,GAAMO,QAAO,CAAG,QAAVA,QAAO,EAAS,CAClBT,WAAW,CAACC,IAAI,CAAEC,QAAQ,CAAEC,OAAO,CAAEC,eAAe,CAAC,CACzD,CAAC,CAED,GAAMa,OAAM,CAAG,QAATA,OAAM,EAAS,CACjBX,UAAU,CAACL,IAAI,CAAEC,QAAQ,CAAC,CAC9B,CAAC,CAED,GAAMgB,QAAO,CAAG,QAAVA,QAAO,CAAIV,CAAkC,CAAK,CACpDD,WAAW,CAACC,CAAC,CAAEC,OAAO,CAAC,CAC3B,CAAC,CAED,GAAMU,WAAU,CAAGP,KAAK,CAACQ,MAAM,CAC/B,GAAMC,aAAY,CAAGT,KAAK,CAACQ,MAAM,CAAGR,KAAK,CAACA,KAAK,CAACQ,MAAM,CAAC,CAAC,CAAC,CAACnB,IAAI,CAAG,EAAE,CAEnE,mBACI,KAAC,QAAQ,EACL,IAAI,CAAEA,IAAK,CACX,eAAe,CAAEa,eAAgB,CACjC,OAAO,CAAEL,OAAQ,CACjB,MAAM,CAAEQ,MAAO,CACf,OAAO,CAAEC,OAAQ,CACjB,KAAK,CAAEL,KAAM,CACb,UAAU,CAAEM,UAAW,CACvB,YAAY,CAAEE,YAAa,EAC7B,CAEV,CAAC,CAED,cAAeV,kBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}